<?xml version="1.0"?>
<assets xmlns="http://schema.slothsoft.net/farah/module">
    <resource-directory name="css" type="text/css"/>
    <resource-directory name="js" type="application/javascript"/>
    <resource-directory name="xsl" type="application/xslt+xml"/>
    
    <resource-directory name="dictionary" type="application/xml"/>
    <fragment name="data">
    	<custom-asset name="fetch"
			parameter-filter="Slothsoft\Chat\Assets\FetchParameterFilter"
			executable-builder="Slothsoft\Chat\Assets\FetchBuilder"/>
    	<custom-asset name="sse" 
    		parameter-filter="Slothsoft\Chat\Assets\SSEParameterFilter"
    		executable-builder="Slothsoft\Chat\Assets\SSEBuilder"/>
    	<fragment name="archive"/>
    </fragment>
    
    <fragment name="api">
    	<fragment name="form">
	      <use-template ref="/xsl/form"/>
	      <use-document ref="/data/fetch"/>
	      <link-stylesheet ref="/css/default"/>
	      <link-script ref="/js/Control"/>
	      <import ref="//slothsoft@core/api/DOM"/>
	      <import ref="//slothsoft@sse/api/client"/>
    	</fragment>
    	
    	<fragment name="shoutbox">
	      <use-template ref="/xsl/shoutbox"/>
	      <use-document ref="/api/form"/>
    	</fragment>
    	
	    <fragment name="archive">
	      <use-template ref="/xsl/archive"/>
	      <use-document ref="/data/archive"/>
	      <link-stylesheet ref="/css/default"/>
	    </fragment>
    </fragment>
  </assets>
